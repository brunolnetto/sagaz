# Sagaz Environment Configuration
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# ==============================================================================
# Project Settings
# ==============================================================================
SAGAZ_PROJECT_NAME=my-sagaz-project
SAGAZ_ENV=development  # development, staging, production

# ==============================================================================
# Storage Configuration (Saga State Persistence)
# ==============================================================================
SAGAZ_STORAGE_TYPE=postgresql  # postgresql, redis, memory

# Option 1: Full connection URL (recommended)
SAGAZ_STORAGE_URL=postgresql://postgres:postgres@localhost:5432/sagaz

# Option 2: Individual components (used if SAGAZ_STORAGE_URL is not set)
# SAGAZ_STORAGE_HOST=localhost
# SAGAZ_STORAGE_PORT=5432
# SAGAZ_STORAGE_DB=sagaz
# SAGAZ_STORAGE_USER=postgres
# SAGAZ_STORAGE_PASSWORD=your_password_here

# ==============================================================================
# Outbox Storage (Optional - for separate outbox database)
# ==============================================================================
# Uncomment to use separate database for outbox pattern
# SAGAZ_OUTBOX_STORAGE_URL=postgresql://postgres:postgres@localhost:5432/sagaz_outbox

# ==============================================================================
# Message Broker Configuration
# ==============================================================================
SAGAZ_BROKER_TYPE=redis  # redis, kafka, rabbitmq, memory

# Option 1: Full connection URL (recommended)
SAGAZ_BROKER_URL=redis://localhost:6379/1

# Option 2: Individual components (used if SAGAZ_BROKER_URL is not set)
# SAGAZ_BROKER_HOST=localhost
# SAGAZ_BROKER_PORT=6379
# SAGAZ_BROKER_USER=guest
# SAGAZ_BROKER_PASSWORD=guest

# ==============================================================================
# Observability - Metrics
# ==============================================================================
SAGAZ_METRICS_ENABLED=true
SAGAZ_METRICS_PORT=9090

SAGAZ_GRAFANA_ENABLED=true
SAGAZ_GRAFANA_PORT=3000

# ==============================================================================
# Observability - Distributed Tracing
# ==============================================================================
SAGAZ_TRACING_ENABLED=false
SAGAZ_TRACING_ENDPOINT=http://localhost:4317  # OpenTelemetry collector

# ==============================================================================
# Observability - Logging
# ==============================================================================
SAGAZ_LOGGING_ENABLED=true
SAGAZ_LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ==============================================================================
# Saga Execution Defaults
# ==============================================================================
SAGAZ_DEFAULT_TIMEOUT=60.0  # seconds
SAGAZ_DEFAULT_MAX_RETRIES=3
SAGAZ_FAILURE_STRATEGY=FAIL_FAST_WITH_GRACE  # FAIL_FAST, FAIL_FAST_WITH_GRACE, CONTINUE_ON_FAILURE

# ==============================================================================
# Outbox Worker Configuration (if using outbox pattern)
# ==============================================================================
# SAGAZ_OUTBOX_BATCH_SIZE=100
# SAGAZ_OUTBOX_POLL_INTERVAL=1.0
# SAGAZ_OUTBOX_MAX_RETRIES=5
# SAGAZ_OUTBOX_WORKER_ID=worker-1

# ==============================================================================
# Development/Testing
# ==============================================================================
# SAGAZ_INTEGRATION_TEST=false
# SAGAZ_TEST_CONTAINERS_ENABLED=true
